# –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏–µ–º TravelPi

## üöÄ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

TravelPi –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ Raspberry Pi.

### –ß—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã —Å–ª—É–∂–±–∞ `travelpi-autostart` –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç:

1. **hostapd** - –¢–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ Wi-Fi (wlan0)
2. **dnsmasq** - DHCP –∏ DNS —Å–µ—Ä–≤–µ—Ä
3. **nginx** - –í–µ–±-—Å–µ—Ä–≤–µ—Ä
4. **PHP-FPM** - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ PHP
5. **Pi-hole** - –ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫ —Ä–µ–∫–ª–∞–º—ã (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
6. **travelpi-connection** - –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
7. **travelpi-monitor** - –ú–æ–Ω–∏—Ç–æ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
8. **travelpi-dns-monitor** - –ú–æ–Ω–∏—Ç–æ—Ä DNS –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

```bash
# –°—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
sudo systemctl status travelpi-autostart

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
sudo cat /var/log/travelpi-autostart.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –ª–æ–≥–∞
sudo tail -f /var/log/travelpi-autostart.log
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–ª—É–∂–±—ã –≤—Ä—É—á–Ω—É—é:

```bash
sudo /usr/local/bin/travelpi-autostart.sh
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

–ï—Å–ª–∏ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫:

```bash
sudo systemctl disable travelpi-autostart
```

–í–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ:

```bash
sudo systemctl enable travelpi-autostart
```

## ‚èª –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏–µ–º

### –ö–Ω–æ–ø–∫–∞ –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–∫–ª—é—á–µ–Ω–∏—è

–ù–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É –µ—Å—Ç—å –∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ ‚èª –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–∫–ª—é—á–µ–Ω–∏—è.

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É ‚èª
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
3. –°–∏—Å—Ç–µ–º–∞ –≤—ã–∫–ª—é—á–∏—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥

### –í—ã–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–í —Ä–∞–∑–¥–µ–ª–µ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π** –¥–æ—Å—Ç—É–ø–Ω—ã –¥–≤–µ –∫–Ω–æ–ø–∫–∏:

- **üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å** - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- **‚èª –í—ã–∫–ª—é—á–∏—Ç—å** - –ü–æ–ª–Ω–æ–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ

### –í—ã–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ SSH

```bash
# –í—ã–∫–ª—é—á–µ–Ω–∏–µ
sudo shutdown -h now

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
sudo reboot
```

### ‚ö†Ô∏è –í–∞–∂–Ω–æ –æ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏

**–ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏:**
- –í—Å–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±—É–¥—É—Ç —Ä–∞–∑–æ—Ä–≤–∞–Ω—ã
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–∏—Ç—Å—è
- –î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –¥–æ—Å—Ç—É–ø –∫ Raspberry Pi
- –ù—É–∂–Ω–æ –±—É–¥–µ—Ç –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É –ø–∏—Ç–∞–Ω–∏—è –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å/–ø–æ–¥–∫–ª—é—á–∏—Ç—å –ø–∏—Ç–∞–Ω–∏–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —É–≤–µ—Ä–µ–Ω—ã
- –î–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫ –∏–ª–∏ –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

–í–µ–±-—Å–µ—Ä–≤–µ—Ä—É (www-data) —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `shutdown` - –í—ã–∫–ª—é—á–µ–Ω–∏–µ
- `reboot` - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É–∂–±–∞–º–∏

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `/etc/sudoers.d/travelpi`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π sudo –¥–ª—è www-data
sudo cat /etc/sudoers.d/travelpi
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã:
```bash
sudo systemctl status travelpi-autostart
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
sudo journalctl -u travelpi-autostart -n 50
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Å–∫—Ä–∏–ø—Ç:
```bash
ls -la /usr/local/bin/travelpi-autostart.sh
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
```bash
sudo /usr/local/bin/travelpi-autostart.sh
```

### –ö–Ω–æ–ø–∫–∞ –≤—ã–∫–ª—é—á–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ sudo:
```bash
sudo -u www-data sudo -l
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ nginx:
```bash
sudo tail -f /var/log/nginx/error.log
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª sudoers —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
```bash
ls -la /etc/sudoers.d/travelpi
```

### –°–∏—Å—Ç–µ–º–∞ –Ω–µ –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è

1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ SSH:
```bash
sudo shutdown -h now
```

2. –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç, –æ—Ç–∫–ª—é—á–∏—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ (–∫—Ä–∞–π–Ω—è—è –º–µ—Ä–∞):
   - –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–∫–ª—é—á–µ–Ω–∏—è
   - –û—Ç–∫–ª—é—á–∏—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ –æ—Ç Raspberry Pi

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã

```bash
# –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
uptime

# –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–≥—Ä—É–∑–∫–∏
who -b
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏

```bash
# –í—Å–µ –ª–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏
sudo journalctl -b

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–ª—É–∂–±—ã
sudo journalctl -u travelpi-autostart -b
```

## üéØ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏**: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø–∞–º—è—Ç–∏
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤**: –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É –≤—ã–∫–ª—é—á–µ–Ω–∏—è, –∞ –Ω–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è
4. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: –î–µ–ª–∞–π—Ç–µ backup SD –∫–∞—Ä—Ç—ã –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –ø–æ–µ–∑–¥–∫–∞–º–∏

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```
1. –í–∫–ª—é—á–∏—Ç–µ Raspberry Pi (–ø–æ–¥–∫–ª—é—á–∏—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ)
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 30-60 —Å–µ–∫—É–Ω–¥ (–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫)
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ Wi-Fi "TravelPi"
4. –û—Ç–∫—Ä–æ–π—Ç–µ http://192.168.4.1
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–æ—É—Ç–µ—Ä
6. –í –∫–æ–Ω—Ü–µ –¥–Ω—è –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤—ã–∫–ª—é—á–µ–Ω–∏—è
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ë—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞

```
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π
3. –ù–∞–∂–º–∏—Ç–µ "–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å"
4. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 30 —Å–µ–∫—É–Ω–¥
5. –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ Wi-Fi
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ

```
1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ‚èª –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ
3. –°–∏—Å—Ç–µ–º–∞ –≤—ã–∫–ª—é—á–∏—Ç—Å—è —á–µ—Ä–µ–∑ 5-10 —Å–µ–∫—É–Ω–¥
```

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–æ–º –∏–ª–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `/var/log/travelpi-autostart.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–ª—É–∂–±: `sudo systemctl status travelpi-*`
3. –°–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ GitHub —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã –∏ –ª–æ–≥–∞–º–∏

---

**–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏–µ–º —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!** üéâ
